<%- include("layout/head") %>

<div id="cart-table-container" class="my-5">
  <div class="container">
    <table class="table table-hover text-center">
      <thead>
        <tr class="table-success">
          <th scope="col">#</th>
          <th scope="col">Title</th>
          <th scope="col">Quantity</th>
          <th scope="col">View Product</th>
          <th scope="col">Remove</th>
        </tr>
      </thead>
      <tbody>
        <% products.forEach( (product, index) => { %>
        <tr class="">
          <th scope="col"><%= index+1 %></th>
          <th scope="col"><%= product.title %></th>
          <th
            scope="col"
            class="d-flex justify-content-center align-items-center"
          >
            <form
              action="/cart/update?id=<%= product.id %>&type=minus"
              method="post"
            >
              <button type="submit">
                <ion-icon name="chevron-back-outline"></ion-icon>
              </button>
            </form>
            <%= product.quantity %>
            <form
              action="/cart/update?id=<%= product.id %>&type=add"
              method="post"
            >
              <button type="submit">
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </button>
            </form>
          </th>
          <th scope="col"><a class="active" href="#">View Product</a></th>
          <th scope="col">
            <form action="/cart/delete?id=<%= product.id %>" method="post">
              <button type="submit">
                <ion-icon
                  class="text-danger"
                  name="close-circle-outline"
                ></ion-icon>
              </button>
            </form>
          </th>
        </tr>
        <% }) %>
      </tbody>
    </table>
    <button class="btn btn-success w-100">Buy Now</button>
  </div>
</div>
